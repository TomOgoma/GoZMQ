1. included error management for file writing
